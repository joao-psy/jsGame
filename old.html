<!DOCTYPE html>
<html>
<body>
    <center> 
        <canvas id="canvas" width="500" height="500">
        </canvas>
    </center>
     
    <script>
      const ARROW_DOWN = 40;
      const ARROW_RIGHT = 39;
      const ARROW_LEFT = 37;
      const ARROW_UP = 38;
      const WIDTH = 500;
      const HEIGHT = 500;
      const Vel = 10;

const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

ctx.fillText("Placar", 250, 250)

const Aleatoria = {
    A: LugaresAleatorios(0, WIDTH),
    B: LugaresAleatorios(0, HEIGHT),
}

const bolinhas = [
  {
    id: 1,
    A: LugaresAleatorios(0, WIDTH),
    B: LugaresAleatorios(0, HEIGHT),
    tipo: 'red'
  },
  {
    id: 2,
    A: LugaresAleatorios(0, WIDTH),
    B: LugaresAleatorios(0, HEIGHT),
    tipo: 'blue'
  }
];

function LugaresAleatorios(min, max) {
    return Math.random() * (min, max) + min;
}

const BolinhaPreta = function(eixoX, eixoY, tipo) {
    ctx.beginPath();
    ctx.fillStyle = tipo;
    ctx.arc(eixoX, eixoY, 10, 0, Math.PI*2, true);
    ctx.fill();
}
 const LimparTela = function() {
    ctx.fillStyle = "white";
    ctx.strokeStyle = "black";
    ctx.beginPath();
    ctx.rect(0, 0, WIDTH, HEIGHT);
    ctx.closePath();
    ctx.fill();
    ctx.stroke();
}

const Desenhar = function() {
    LimparTela();

for (let i = 0; i < bolinhas.length; i++) {
    const bolinha = bolinhas[i];
    const distanciaX = Math.pow(Aleatoria.A - bolinha.A, 2);
    const distanciaY = Math.pow(Aleatoria.B - bolinha.B, 2);
    const distanciaEntrePontos = Math.sqrt(distanciaX + distanciaY);

    const colisao = distanciaEntrePontos <= 20;
    if(colisao) {
      bolinha.A = LugaresAleatorios(0, WIDTH);
      bolinha.B = LugaresAleatorios(0, HEIGHT);
    }

    BolinhaPreta(bolinha.A, bolinha.B, bolinha.tipo);
  }
  BolinhaPreta(Aleatoria.A, Aleatoria.B, "black");
}

const Keydown = function({ keyCode }) {
  if (keyCode === ARROW_UP) {
    if (Aleatoria.B - Vel > 0)
      Aleatoria.B -= Vel;
  }

  if (keyCode === ARROW_DOWN) {
    if (Aleatoria.B + Vel < HEIGHT)
      Aleatoria.B += Vel;
  }

  if (keyCode === ARROW_LEFT) {
    if (Aleatoria.A - Vel > 0)
      Aleatoria.A -= Vel;
  }

  if (keyCode === ARROW_RIGHT) {
    if (Aleatoria.A + Vel < WIDTH)
      Aleatoria.A += Vel;
  }

  Desenhar();
}


window.addEventListener('Keydown', Keydown, true);
Desenhar()

    </script>
</body>
</html>
